<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Crafty - JavaScript Game Engine</title>
<link type="text/css" rel="stylesheet" href="../global.css"/>
<link href='http://fonts.googleapis.com/css?family=Arvo:regular,bold' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="../favicon.ico"> 
</head>
<body>
<div id="header">
	<div id="inner">
	<a href="http://craftyjs.com"><img id="logo" src="../images/logo.png" alt="Crafty - JavaScript Game Engine" /></a>
	<ul>
		<li><a href="http://craftyjs.com/tutorial/">Getting Started</a></li>
		<li><a href="http://craftyjs.com/api/">Documentation</a></li>
		<li><a href="https://groups.google.com/forum/#!forum/craftyjs">Forum</a></li>
		<li><a href="http://craftycomponents.com/">Modules</a></li>
		<li class="emph"><a href="http://craftycomponents.com/components/single/8/crafty">Download</a></li>
	</ul>
	</div>
</div>
<div id="main">
<div id="main-left"></div>
<div id="main-right"></div>
<div id="content"><div id='doc-nav'><ul id='doc-level-one'><li><a href='events.html'>List of Events</a></li><li>Core<ul><li><a href='Crafty.html'>Crafty</a></li><li><a href='Crafty-Core.html'>Crafty Core</a></li><li><a href='Crafty-extend.html'>Crafty.extend</a></li><li><a href='Crafty-init.html'>Crafty.init</a></li><li><a href='Crafty-stop.html'>Crafty.stop</a></li><li><a href='Crafty-pause.html'>Crafty.pause</a></li><li><a href='Crafty-isPaused.html'>Crafty.isPaused</a></li><li><a href='Crafty-e.html'>Crafty.e</a></li><li><a href='Crafty-c.html'>Crafty.c</a></li><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-frame.html'>Crafty.frame</a></li><li><a href='Crafty-settings.html'>Crafty.settings</a></li><li><a href='Crafty-clone.html'>Crafty.clone</a></li><li><a href='FPS.html'>FPS</a></li><li><a href='Crafty-support.html'>Crafty.support</a></li><li><a href='Crafty-stage.html'>Crafty.stage</a></li></ul></li><li>Internal<ul><li><a href='Crafty-timer.html'>Crafty.timer</a></li></ul></li><li>Events<ul><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li></ul></li><li>2D<ul><li><a href='Crafty-HashMap.html'>Crafty.HashMap</a></li><li><a href='Crafty-map.html'>Crafty.map</a></li><li><a href='2D.html'>2D</a></li><li><a href='Gravity.html'>Gravity</a></li><li><a href='Crafty-polygon.html'>Crafty.polygon</a></li><li><a href='Crafty-circle.html'>Crafty.circle</a></li><li><a href='Collision.html'>Collision</a></li><li><a href='Crafty-isometric.html'>Crafty.isometric</a></li><li><a href='Crafty-math.html'>Crafty.math</a></li><li><a href='Crafty-math-Vector2D.html'>Crafty.math.Vector2D</a></li><li><a href='Crafty-math-Matrix2D.html'>Crafty.math.Matrix2D</a></li></ul></li><li>Graphics<ul><li><a href='DOM.html'>DOM</a></li><li><a href='Crafty-DOM.html'>Crafty.DOM</a></li><li><a href='HTML.html'>HTML</a></li><li><a href='Crafty-sprite.html'>Crafty.sprite</a></li><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Sprite.html'>Sprite</a></li><li><a href='Canvas.html'>Canvas</a></li><li><a href='Crafty-canvas.html'>Crafty.canvas</a></li><li><a href='Color.html'>Color</a></li><li><a href='Tint.html'>Tint</a></li><li><a href='Image.html'>Image</a></li><li><a href='Crafty-toRGB.html'>Crafty.toRGB</a></li><li><a href='Crafty-DrawManager.html'>Crafty.DrawManager</a></li><li><a href='Particles.html'>Particles</a></li><li><a href='Text.html'>Text</a></li></ul></li><li>Utilities<ul><li><a href='Storage.html'>Storage</a></li><li><a href='Crafty-Time.html'>Crafty Time</a></li></ul></li><li>Misc<ul><li><a href='Crafty-support.html'>Crafty.support</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li><li><a href='Crafty-device.html'>Crafty.device</a></li></ul></li><li>Stage<ul><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Crafty-viewport.html'>Crafty.viewport</a></li><li><a href='Crafty-scene.html'>Crafty.scene</a></li></ul></li><li>Input<ul><li><a href='Crafty-keys.html'>Crafty.keys</a></li><li><a href='Crafty-mouseButtons.html'>Crafty.mouseButtons</a></li><li><a href='Crafty-keydown.html'>Crafty.keydown</a></li><li><a href='Crafty-mouseDispatch.html'>Crafty.mouseDispatch</a></li><li><a href='Crafty-touchDispatch.html'>Crafty.touchDispatch</a></li><li><a href='KeyboardEvent.html'>KeyboardEvent</a></li><li><a href='Crafty-eventObject.html'>Crafty.eventObject</a></li><li><a href='Mouse.html'>Mouse</a></li><li><a href='Draggable.html'>Draggable</a></li><li><a href='Keyboard.html'>Keyboard</a></li><li><a href='Multiway.html'>Multiway</a></li><li><a href='Fourway.html'>Fourway</a></li><li><a href='Twoway.html'>Twoway</a></li></ul></li><li>Animation<ul><li><a href='SpriteAnimation.html'>SpriteAnimation</a></li><li><a href='Tween.html'>Tween</a></li></ul></li><li>Scenes<ul><li><a href='Crafty-scene.html'>Crafty.scene</a></li></ul></li><li>Audio<ul><li><a href='Crafty-audio.html'>Crafty.audio</a></li></ul></li><li>Assets<ul><li><a href='Crafty-assets.html'>Crafty.assets</a></li><li><a href='Crafty-asset.html'>Crafty.asset</a></li><li><a href='Crafty-image_whitelist.html'>Crafty.image_whitelist</a></li><li><a href='Crafty-loader.html'>Crafty.loader</a></li><li><a href='Crafty-modules.html'>Crafty.modules</a></li></ul></li></ul></div><div id='doc-content'><h1>Crafty.viewport</h1>

<p>Viewport is essentially a 2D camera looking at the stage. Can be moved which
in turn will react just like a camera moving in that direction.</p>
<div class='doc-contents'><ul><li><a href='#Crafty-viewport-clampToEntities'>Crafty.viewport.clampToEntities</a></li><li><a href='#Crafty-viewport-x'>Crafty.viewport.x</a></li><li><a href='#Crafty-viewport-y'>Crafty.viewport.y</a></li><li><a href='#Crafty-viewport-bounds'>Crafty.viewport.bounds</a></li><li><a href='#Crafty-viewport-scroll'>Crafty.viewport.scroll</a></li><li><a href='#Crafty-viewport-pan'>Crafty.viewport.pan</a></li><li><a href='#Crafty-viewport-follow'>Crafty.viewport.follow</a></li><li><a href='#Crafty-viewport-centerOn'>Crafty.viewport.centerOn</a></li><li><a href='#Crafty-viewport-_zoom'>Crafty.viewport._zoom</a></li><li><a href='#Crafty-viewport-zoom'>Crafty.viewport.zoom</a></li><li><a href='#Crafty-viewport-scale'>Crafty.viewport.scale</a></li><li><a href='#Crafty-viewport-mouselook'>Crafty.viewport.mouselook</a></li><li><a href='#Crafty-viewport-init'>Crafty.viewport.init</a></li></ul></div><div class='doc-block' id='Crafty-viewport-clampToEntities'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.clampToEntities</h2>

<p>Decides if the viewport functions should clamp to game entities.
When set to <code>true</code> functions such as Crafty.viewport.mouselook() will not allow you to move the
viewport over areas of the game that has no entities.
For development it can be useful to set this to false.</p>
</div><div class='doc-block' id='Crafty-viewport-x'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.x</h2>

<p>Will move the stage and therefore every visible entity along the <code>x</code>
axis in the opposite direction.</p>

<p>When this value is set, it will shift the entire stage. This means that entity
positions are not exactly where they are on screen. To get the exact position,
simply add <code>Crafty.viewport.x</code> onto the entities <code>x</code> position.</p>
</div><div class='doc-block' id='Crafty-viewport-y'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.y</h2>

<p>Will move the stage and therefore every visible entity along the <code>y</code>
axis in the opposite direction.</p>

<p>When this value is set, it will shift the entire stage. This means that entity
positions are not exactly where they are on screen. To get the exact position,
simply add <code>Crafty.viewport.y</code> onto the entities <code>y</code> position.</p>
</div><div class='doc-block' id='Crafty-viewport-bounds'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.bounds</h2>

<p>A rectangle which defines the bounds of the viewport. If this 
variable is null, Crafty uses the bounding box of all the items
on the stage.</p>
</div><div class='doc-block' id='Crafty-viewport-scroll'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.scroll</h2>

<p><code>Crafty.viewport.scroll(String axis, Number v)</code></p>

<dl>
<dt>axis</dt>
<dd>'x' or 'y'</dd>

<dt>v</dt>
<dd>The new absolute position on the axis</dd>
</dl>

<p>Will move the viewport to the position given on the specified axis</p>

<h3>Example</h3>

<p>Will move the camera 500 pixels right of its initial position, in effect
shifting everything in the viewport 500 pixels to the left.</p>

<pre><code>Crafty.viewport.scroll('_x', 500);
</code></pre>
</div><div class='doc-block' id='Crafty-viewport-pan'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.pan</h2>

<p><code>public void Crafty.viewport.pan(String axis, Number v, Number time)</code></p>

<dl>
<dt>String axis</dt>
<dd>'x' or 'y'. The axis to move the camera on</dd>

<dt>Number v</dt>
<dd>the distance to move the camera by</dd>

<dt>Number time</dt>
<dd>The duration in frames for the entire camera movement</dd>
</dl>

<p>Pans the camera a given number of pixels over a given number of frames</p>
</div><div class='doc-block' id='Crafty-viewport-follow'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.follow</h2>

<p><code>public void Crafty.viewport.follow(Object target, Number offsetx, Number offsety)</code></p>

<dl>
<dt>Object target</dt>
<dd>An entity with the 2D component</dd>

<dt>Number offsetx</dt>
<dd>Follow target should be offsetx pixels away from center</dd>

<dt>Number offsety</dt>
<dd>Positive puts target to the right of center</dd>
</dl>

<p>Follows a given entity with the 2D component. If following target will take a portion of
the viewport out of bounds of the world, following will stop until the target moves away.</p>

<h3>Example</h3>

<pre><code>var ent = Crafty.e('2D, DOM').attr({w: 100, h: 100:});
Crafty.viewport.follow(ent, 0, 0);
</code></pre>
</div><div class='doc-block' id='Crafty-viewport-centerOn'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.centerOn</h2>

<p><code>public void Crafty.viewport.centerOn(Object target, Number time)</code></p>

<dl>
<dt>Object target</dt>
<dd>An entity with the 2D component</dd>

<dt>Number time</dt>
<dd>The number of frames to perform the centering over</dd>
</dl>

<p>Centers the viewport on the given entity</p>
</div><div class='doc-block' id='Crafty-viewport-_zoom'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport._zoom</h2>

<p>This value keeps an amount of viewport zoom, required for calculating mouse position at entity</p>
</div><div class='doc-block' id='Crafty-viewport-zoom'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.zoom</h2>

<p><code>public void Crafty.viewport.zoom(Number amt, Number cent_x, Number cent_y, Number time)</code></p>

<dl>
<dt>Number amt</dt>
<dd>amount to zoom in on the target by (eg. 2, 4, 0.5)</dd>

<dt>Number cent_x</dt>
<dd>the center to zoom on</dd>

<dt>Number cent_y</dt>
<dd>the center to zoom on</dd>

<dt>Number time</dt>
<dd>the duration in frames of the entire zoom operation</dd>
</dl>

<p>Zooms the camera in on a given point. amt > 1 will bring the camera closer to the subject
amt &lt; 1 will bring it farther away. amt = 0 will do nothing.
Zooming is multiplicative. To reset the zoom amount, pass 0.</p>
</div><div class='doc-block' id='Crafty-viewport-scale'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.scale</h2>

<p><code>public void Crafty.viewport.scale(Number amt)</code></p>

<dl>
<dt>Number amt</dt>
<dd>amount to zoom/scale in on the element on the viewport by (eg. 2, 4, 0.5)</dd>
</dl>

<p>Zooms/scale the camera. amt > 1 increase all entities on stage 
amt &lt; 1 will reduce all entities on stage. amt = 0 will reset the zoom/scale.
Zooming/scaling is multiplicative. To reset the zoom/scale amount, pass 0.</p>

<h3>Example</h3>

<pre><code>Crafty.viewport.scale(2); //to see effect add some entities on stage.
</code></pre>
</div><div class='doc-block' id='Crafty-viewport-mouselook'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.mouselook</h2>

<p><code>public void Crafty.viewport.mouselook(Boolean active)</code></p>

<dl>
<dt>Boolean active</dt>
<dd>Activate or deactivate mouselook</dd>
</dl>

<p>Toggle mouselook on the current viewport.
Simply call this function and the user will be able to
drag the viewport around.</p>
</div><div class='doc-block' id='Crafty-viewport-init'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.init</h2>

<p><code>public void Crafty.viewport.init([Number width, Number height, String stage_elem])</code></p>

<p><code>public void Crafty.viewport.init([Number width, Number height, HTMLElement stage_elem])</code></p>

<dl>
<dt>Number width</dt>
<dd>Width of the viewport</dd>

<dt>Number height</dt>
<dd>Height of the viewport</dd>

<dt>String or HTMLElement stage_elem</dt>
<dd>the element to use as the stage (either its id or the actual element).</dd>
</dl>

<p>Initialize the viewport. If the arguments 'width' or 'height' are missing, or Crafty.mobile is true, use Crafty.DOM.window.width and Crafty.DOM.window.height (full screen model).</p>

<p>The argument 'stage_elem' is used to specify a stage element other than the default, and can be either a string or an HTMLElement.  If a string is provided, it will look for an element with that id and, if none exists, create a div.  If an HTMLElement is provided, that is used directly.  Omitting this argument is the same as passing an id of 'cr-stage'.</p>

<h3>See Also</h3>

<ul>
<li><a href="Crafty-device.html">Crafty.device</a></li>
<li><a href="Crafty-DOM.html">Crafty.DOM</a></li>
<li><a href="Crafty-stage.html">Crafty.stage</a></li>
</ul>
</div></div></div>
</div>

<div class="clearer"></div>
<div id="footer">

  <div id="contact">
    <a href="http://twitter.com/craftyjs">
      <img src="/images/twitter.png" />
      @craftyjs
    </a>
    <a href="http://webchat.freenode.net">
      <img src="/images/comment.png" />
      #crafty@freenode.net
    </a>
    <a href="https://groups.google.com/forum/#!forum/craftyjs">
      <img src="/images/google.png" />
      google groups
    </a>
    <a href="mailto:louis@craftyjs.com">
      <img src="/images/email.png" />
      louis@craftyjs.com
    </a>
    <a href="https://github.com/craftyjs/Crafty">
      <img src="/images/github.png" />
      github
    </a>
  </div>
  <ul>
    <li>
      <a href="/api/">Documentation</a>
    </li>
    <li>
      <a href="http://craftycomponents.com/">Modules</a>
    </li>
    <li>
      <a href="https://groups.google.com/forum/#!forum/craftyjs">Forum</a>
    </li>
    <li>
      <a href="/tutorial/">Tutorial</a>
    </li>
    <li>
      <a href="http://craftycomponents.com/components/single/8/crafty">Download</a>
    </li>
  </ul>
  <p>
    &copy; Crafty 2010. Crafty is distributed under the <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a> or <a href="http://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a>
    license.
  </p>

</div>
</body>
</html>